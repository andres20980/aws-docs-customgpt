name: Simple Sync and Upload

on:
  push:
    branches:
      - main

jobs:
  sync-repos:
    runs-on: ubuntu-latest

    steps:
      # Paso 1: Checkout del repositorio
      - name: ğŸ“¥ Checkout del repositorio
        uses: actions/checkout@v4

      # Paso 2: Ejecutar el script para generar y subir el archivo .md
      - name: ğŸ§‘â€ğŸ’» Ejecutar script para generar 'holamundo.md'
        run: |
          bash src/descargar_awsdocs.sh

      # Paso 3: Commit y push de cambios
      - name: ğŸ”„ Commit y push de cambios
        run: |
          git add .
          if git diff --staged --quiet; then
            echo "No hay cambios para hacer commit."
          else
            git commit -m "ğŸ”„ Subida de archivo de ejemplo"
            git push
